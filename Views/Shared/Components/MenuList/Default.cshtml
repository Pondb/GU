@{
    @using Microsoft.AspNetCore.Http
}



@*<nav class="navbar navbar-expand-sm bg-dark navbar-fixed-top">*@
<nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #1C1408">
    <div class="container">





        <!-- Brand -->
        
        <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index" ><img src="~/img/growup/Brand.png" width="25%" />&nbsp; GROWYP</a>

        <!-- Links -->
        <ul class="navbar-nav">

            
            <li class="nav-item">
                <a asp-area="" asp-controller="Todo_Task" asp-action="Add_Task" class="nav-link">Tasks</a>
            </li>
            <li class="nav-item">
                <a asp-area="" asp-controller="Main" asp-action="Index" class="nav-link">Your Trees</a>
            </li>
            <li class="nav-item">
                <a asp-area="" asp-controller="Home" asp-action="About" class="nav-link">About</a>
            </li>
            <li class="nav-item">
                <a asp-area="" asp-controller="Home" asp-action="Contact" class="nav-link">Contact</a>
            </li>

            @*<li class="nav-item">
                <a class="nav-link"> | </a>
            </li>*@



            @{
                var user_id = Context.Session.GetString("User_ID");
            }

            @{
                if (user_id != null)
                {
                    <!-- User Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            @{


                                if (ViewBag.User != null)
                                {

                                    List<GU.Models.User> UserInfo = ViewBag.User;

                                    foreach (var m in UserInfo)
                                    {
                                        @m.Email

                                    }
                                }
                            }
                        </a>
                        <div class="dropdown-menu">
                            <a asp-area="" asp-controller="Users" asp-action="Edit" asp-route-id="@user_id" class="dropdown-item">
                                @{


                                    if (ViewBag.User != null)
                                    {

                                        List<GU.Models.User> UserInfo = ViewBag.User;

                                        foreach (var m in UserInfo)
                                        {
                                            @m.First_Name

                                        }
                                    }


                                } @{


                                    if (ViewBag.User != null)
                                    {

                                        List<GU.Models.User> UserInfo = ViewBag.User;

                                        foreach (var m in UserInfo)
                                        {
                                            @m.Last_Name

                                        }
                                    }




                                }
                            </a>
                            <a asp-area="" asp-controller="Users" asp-action="ChangePassword" class="dropdown-item">Change Password</a>
                            <a asp-area="" asp-controller="Home" asp-action="Logout" class="dropdown-item">Log out</a>

                        </div>
                    </li>
                }
                else
                {
                    <li class="nav-item">
                        <a asp-area="" asp-controller="Users" asp-action="Create" class="nav-link">Sign up</a>
                    </li>

                    <li class="nav-item" onclick="openLoginModal()">
                        <a class="nav-link" href="#">Login</a>
                    </li>




                }

            }




        </ul>











    </div>
</nav>


